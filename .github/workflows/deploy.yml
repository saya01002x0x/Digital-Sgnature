name: CD - Deploy to Render

on:
  push:
    branches: ['main']  

jobs:
  notify-deployment:
    name: Notify Deployment Started
    runs-on: ubuntu-latest
    
    steps:
      - name: ðŸš€ Deployment triggered
        run: |
          echo "Deployment to Render started!"
          echo "Branch: ${{ github.ref_name }}"
          echo "Commit: ${{ github.sha }}"
          echo "Author: ${{ github.actor }}"
      
      # Optional: ThÃªm notification Ä‘áº¿n Discord/Slack náº¿u cáº§n
      # - name: Send notification
      #   uses: ...

  # Render sáº½ tá»± Ä‘á»™ng deploy khi detect push vÃ o main
  # Náº¿u muá»‘n trigger thá»§ cÃ´ng, cÃ³ thá»ƒ dÃ¹ng Render Deploy Hook
  trigger-render-deploy:
    name: Trigger Render Deployment
    runs-on: ubuntu-latest
    needs: notify-deployment
    
    steps:
      - name: ðŸ“¦ Render Auto-Deploy
        run: |
          echo "Render will automatically deploy this commit."
          echo "Check deployment status at: https://dashboard.render.com"
      
      # Náº¿u muá»‘n trigger thá»§ cÃ´ng qua Deploy Hook:
      # - name: Trigger Deploy Hook
      #   run: |
      #     curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK_URL }}
      #   if: secrets.RENDER_DEPLOY_HOOK_URL != ''
